"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8499],{8499:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var i=a(95155),r=a(91812),l=a(53561),c=a(66329),t=a(35007),n=a(14085),d=a(43670),o=a(27530),m=a(60872),x=a(45686),h=a(29602),g=a(5565);let j="/placeholder.svg";function u(e){let{item:s,viewMode:a,isSelected:r,imageLoading:u,onSelect:v,onEdit:N,onDelete:p,onImageLoad:f,onImageError:w}=e,{attributes:b,listeners:y,setNodeRef:k,transform:E,transition:_,isDragging:z}=(0,l.gl)({id:s.id}),C={transform:c.Ks.Transform.toString(E),transition:_,opacity:z?.5:1};return s.image_url,(0,i.jsxs)(t.Zp,{ref:k,style:C,className:(0,h.cn)("relative overflow-hidden group",z&&"shadow-lg","grid"===a?"h-full":""),children:[(0,i.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,i.jsx)(d.S,{checked:r,onCheckedChange:v,className:"bg-white/90"})}),(0,i.jsx)("div",{...b,...y,className:"absolute top-2 right-2 z-10 cursor-grab active:cursor-grabbing",children:(0,i.jsx)(o.A,{className:"h-5 w-5 text-gray-500 hover:text-gray-700"})}),"grid"===a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"relative aspect-video",children:[(0,i.jsx)(g.default,{src:s.image_url||j,alt:s.name,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover transition-all",onLoad:f,onError:e=>{console.error("Image load error for:",s.image_url),e.currentTarget.src=j,w()},unoptimized:!s.image_url}),u&&(0,i.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),(0,i.jsx)(t.Wu,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"font-semibold text-lg truncate",children:s.name}),(0,i.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description}),(0,i.jsxs)("p",{className:"mt-1 font-medium",children:["$",s.price.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,i.jsx)(n.$,{variant:"ghost",size:"icon",onClick:N,className:"h-8 w-8",children:(0,i.jsx)(m.A,{className:"h-4 w-4"})}),(0,i.jsx)(n.$,{variant:"ghost",size:"icon",onClick:p,className:"h-8 w-8 text-red-500 hover:text-red-600",children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})]})]})})]}):(0,i.jsx)(t.Wu,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative h-16 w-16 shrink-0",children:[(0,i.jsx)(g.default,{src:s.image_url||j,alt:s.name,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover rounded transition-all",onLoad:f,onError:e=>{console.error("Image load error for:",s.image_url),e.currentTarget.src=j,w()},unoptimized:!s.image_url}),u&&(0,i.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})})]}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"font-semibold truncate",children:s.name}),(0,i.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1",children:s.description}),(0,i.jsxs)("p",{className:"mt-1 font-medium",children:["$",s.price.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,i.jsx)(n.$,{variant:"ghost",size:"icon",onClick:N,className:"h-8 w-8",children:(0,i.jsx)(m.A,{className:"h-4 w-4"})}),(0,i.jsx)(n.$,{variant:"ghost",size:"icon",onClick:p,className:"h-8 w-8 text-red-500 hover:text-red-600",children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})]})]})})]})}var v=a(25488);function N(e){let{items:s,loading:a,viewMode:c,selectedItems:n,imageLoading:d,onDragEnd:o,onSelectItem:m,onEditItem:x,onDeleteItem:g,onImageLoad:j,onImageError:N}=e,p=(0,r.FR)((0,r.MS)(r.cA,{activationConstraint:{distance:8}}),(0,r.MS)(r.IG,{activationConstraint:{delay:200,tolerance:8}}));return a?(0,i.jsx)("div",{className:(0,h.cn)("grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:Array(6).fill(0).map((e,s)=>(0,i.jsx)(t.Zp,{className:"overflow-hidden",children:"grid"===c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"relative aspect-video",children:(0,i.jsx)(v.E,{className:"absolute inset-0"})}),(0,i.jsxs)(t.Wu,{className:"p-4",children:[(0,i.jsx)(v.E,{className:"h-4 w-3/4 mb-2"}),(0,i.jsx)(v.E,{className:"h-4 w-1/2"})]})]}):(0,i.jsx)(t.Wu,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(v.E,{className:"h-16 w-16 rounded"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(v.E,{className:"h-4 w-1/4 mb-2"}),(0,i.jsx)(v.E,{className:"h-4 w-1/2"})]})]})})},s))}):(0,i.jsx)(r.Mp,{sensors:p,collisionDetection:r.fp,onDragEnd:o,children:(0,i.jsx)(l.gB,{items:s.map(e=>e.id),strategy:"grid"===c?l.kL:l._G,children:(0,i.jsx)("div",{className:(0,h.cn)("grid gap-4","grid"===c?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:s.map(e=>(0,i.jsx)(u,{item:e,viewMode:c,isSelected:n.has(e.id),imageLoading:d,onSelect:s=>m(e.id,s),onEdit:()=>x(e),onDelete:()=>g(e.id),onImageLoad:j,onImageError:N},e.id))})})})}},25488:(e,s,a)=>{a.d(s,{E:()=>l});var i=a(95155),r=a(29602);function l(e){let{className:s,...a}=e;return(0,i.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...a})}},27530:(e,s,a)=>{a.d(s,{A:()=>i});let i=(0,a(82800).A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])}}]);