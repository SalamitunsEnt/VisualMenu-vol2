(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7639],{94930:(e,a,s)=>{Promise.resolve().then(s.bind(s,92998))},92998:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>U});var t=s(95155),r=s(12115),i=s(5565),l=s(14085),n=s(35007),d=s(31641),o=s(9955),c=s(21868),A=s(29602);let u=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(c.bL,{ref:a,className:(0,A.cn)("relative overflow-hidden",s),...i,children:[(0,t.jsx)(c.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(m,{}),(0,t.jsx)(c.OK,{})]})});u.displayName=c.bL.displayName;let m=r.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...i}=e;return(0,t.jsx)(c.VM,{ref:a,orientation:r,className:(0,A.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 border-t border-t-transparent p-[1px]",s),...i,children:(0,t.jsx)(c.lr,{className:"relative flex-1 rounded-full bg-border"})})});m.displayName=c.VM.displayName;var h=s(25488),f=s(20591),x=s(92626),p=s(18474),g=s(20853),v=s(95083),y=s(66217),b=s(40767);let j=y.bL,w=y.l9,N=y.ZL,C=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(y.hJ,{ref:a,className:(0,A.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});C.displayName=y.hJ.displayName;let R=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(N,{children:[(0,t.jsx)(C,{}),(0,t.jsxs)(y.UC,{ref:a,className:(0,A.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-5xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,(0,t.jsxs)(y.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=y.UC.displayName;let k=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,A.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};k.displayName="DialogHeader";let B=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(y.hE,{ref:a,className:(0,A.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});B.displayName=y.hE.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(y.VY,{ref:a,className:(0,A.cn)("text-sm text-muted-foreground",s),...r})}).displayName=y.VY.displayName;var E=s(15785),H=s(72581),S=s(68236),D=s(18617);let F=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Nut-Free","Halal","Kosher"];function z(){let{user:e,preferences:a,updatePreferences:s,signIn:i,signUp:n}=(0,D.A)(),[d,o]=(0,r.useState)(!1),[c,A]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),g=e=>{if(!a){s({dietary:[e]});return}let t=new Set(a.dietary||[]);t.has(e)?t.delete(e):t.add(e),s({dietary:Array.from(t)})},v=async e=>{e.preventDefault();try{h?await n(c,u):await i(c,u),o(!1),p(!1)}catch(e){console.error("Authentication error:",e)}};return(0,t.jsxs)(j,{open:x,onOpenChange:p,children:[(0,t.jsx)(w,{asChild:!0,children:(0,t.jsx)(l.$,{variant:"outline",size:"icon",children:(0,t.jsx)(S.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(R,{className:"sm:max-w-[425px]",children:[(0,t.jsx)(k,{children:(0,t.jsx)(B,{children:"Preferences"})}),e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Dietary Preferences"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:F.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.d,{id:e,checked:(null==a?void 0:null===(s=a.dietary)||void 0===s?void 0:s.includes(e))||!1,onCheckedChange:()=>g(e)}),(0,t.jsx)(E.Label,{htmlFor:e,children:e})]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Display Settings"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.d,{id:"dark-mode",checked:(null==a?void 0:a.dark_mode)||!1,onCheckedChange:e=>s({dark_mode:e})}),(0,t.jsx)(E.Label,{htmlFor:"dark-mode",children:"Dark Mode"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Language"}),(0,t.jsxs)("select",{value:(null==a?void 0:a.language)||"en",onChange:e=>s({language:e.target.value}),className:"w-full p-2 border rounded",children:[(0,t.jsx)("option",{value:"en",children:"English"}),(0,t.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,t.jsx)("option",{value:"fr",children:"Fran\xe7ais"})]})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-center text-sm text-gray-500",children:"Sign in to save your preferences and favorites"}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:c,onChange:e=>A(e.target.value),className:"w-full p-2 border rounded",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.Label,{htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:u,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded",required:!0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(l.$,{type:"submit",children:h?"Sign Up":"Sign In"}),(0,t.jsx)(l.$,{type:"button",variant:"link",onClick:()=>f(!h),children:h?"Already have an account?":"Need an account?"})]})]})]})]})]})}var L=s(55037);let Q=[{name:"Appetizers",items:[{name:"Bruschetta",description:"Grilled bread rubbed with garlic and topped with olive oil, salt, and tomato",price:8.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]},{name:"Calamari",description:"Lightly battered squid served with marinara sauce",price:10.99,image:"/placeholder.svg?height=100&width=100",dietary:[]},{name:"Mozzarella Sticks",description:"Breaded mozzarella cheese, fried and served with marinara sauce",price:7.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]}]},{name:"Main Courses",items:[{name:"Margherita Pizza",description:"Classic pizza with tomato sauce, mozzarella, and basil",price:14.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]},{name:"Chicken Parmesan",description:"Breaded chicken breast topped with tomato sauce and melted mozzarella",price:16.99,image:"/placeholder.svg?height=100&width=100",dietary:[]},{name:"Fettuccine Alfredo",description:"Fettuccine pasta tossed in a rich, creamy Parmesan sauce",price:15.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]}]},{name:"Desserts",items:[{name:"Tiramisu",description:"Classic Italian dessert with layers of coffee-soaked ladyfingers and mascarpone cream",price:7.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]},{name:"Cannoli",description:"Crisp pastry shells filled with sweet ricotta cream and chocolate chips",price:6.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]},{name:"Gelato",description:"Assorted flavors of traditional Italian ice cream",price:5.99,image:"/placeholder.svg?height=100&width=100",dietary:["Vegetarian"]}]}];function T(){return(0,t.jsxs)("div",{className:"flex space-x-4 animate-pulse",children:[(0,t.jsx)("div",{className:"w-[100px] h-[100px] bg-gray-200 rounded-md"}),(0,t.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})]})}function V(e){var a,s,r,n,d,o;let{item:c,onAddToCart:u}=e,{user:m,preferences:h,updatePreferences:x}=(0,D.A)(),p=h||{dietary:[],favorites:[],dark_mode:!1,language:"en"},g=null!==(d=null===(a=p.favorites)||void 0===a?void 0:a.includes(c.name))&&void 0!==d&&d,y=e=>{if(!m){L.oR.error("Please sign in to save favorites");return}let a=p.favorites||[];x({favorites:a.includes(e)?a.filter(a=>a!==e):[...a,e]})},{ref:b,inView:j}=(0,v.Wx)({triggerOnce:!0,threshold:.1}),w=!(null===(s=p.dietary)||void 0===s?void 0:s.length)||null!==(o=null===(r=c.dietary)||void 0===r?void 0:r.some(e=>{var a;return null===(a=p.dietary)||void 0===a?void 0:a.includes(e)}))&&void 0!==o&&o;return(null===(n=p.dietary)||void 0===n?void 0:n.length)&&!w?null:(0,t.jsx)("div",{ref:b,className:"flex space-x-4",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative w-[100px] h-[100px]",children:[(0,t.jsx)(i.default,{src:c.image,alt:c.name,fill:!0,sizes:"100px",className:"rounded-md object-cover",loading:"lazy",placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDABQODxIPDRQSEBIXFRQdHx0fHRsdHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR3/2wBDAR0XFyAeIB4gHh4gIB4dHh4eHh4eHh4eHh4eHh4eHh7/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k="}),m&&(0,t.jsx)(l.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-white/80 hover:bg-white",onClick:()=>y(c.name),children:(0,t.jsx)(f.A,{className:(0,A.cn)("h-4 w-4",{"fill-red-500 text-red-500":g,"text-gray-500":!g})})})]}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)("h3",{className:"font-semibold",children:c.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c.description}),c.dietary&&(0,t.jsx)("div",{className:"flex gap-1 mt-1",children:c.dietary.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e},e))}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsxs)("span",{className:"font-bold",children:["$",c.price.toFixed(2)]}),(0,t.jsx)(l.$,{size:"sm",onClick:()=>u(c),children:"Add to Cart"})]})]})]}):(0,t.jsx)(T,{})})}function I(e){let{category:a,onAddToCart:s}=e;return(0,t.jsx)(d.TabsContent,{value:a.name,children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:a.name}),(0,t.jsxs)(n.BT,{children:["Browse our ",a.name.toLowerCase()," selection"]})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(u,{className:"h-[600px] pr-4",children:(0,t.jsx)("div",{className:"grid gap-6",children:a.items.map((e,a)=>(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(T,{}),children:(0,t.jsx)(V,{item:e,onAddToCart:s})},a))})})})]})})}function U(e){var a;let{params:s,searchParams:i}=e,[c,A]=(0,r.useState)(!0),[m,f]=(0,r.useState)(""),[v,y]=(0,r.useState)({}),[b,j]=(0,r.useState)(""),[w,N]=(0,r.useState)([]),[C,R]=(0,r.useState)(Q),{preferences:k,loading:B}=(0,D.A)(),E=k||{dietary:[],favorites:[],dark_mode:!1,language:"en"};(0,r.useEffect)(()=>{(async()=>{let[e,a]=await Promise.all([s,i]);f(e.restaurantId),y(a),a.q&&j(Array.isArray(a.q)?a.q[0]:a.q)})()},[s,i]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{A(!1)},1e3);return()=>clearTimeout(e)},[]);let H=Q.map(e=>({...e,items:e.items.filter(e=>{var a,s,t;let r=!b||e.name.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase()),i=!(null===(a=E.dietary)||void 0===a?void 0:a.length)||null!==(t=null===(s=e.dietary)||void 0===s?void 0:s.some(e=>{var a;return null===(a=E.dietary)||void 0===a?void 0:a.includes(e)}))&&void 0!==t&&t;return r&&i})})).filter(e=>e.items.length>0),S=e=>{N(a=>a.find(a=>a.name===e.name)?a.map(a=>a.name===e.name?{...a,quantity:(a.quantity||1)+1}:a):[...a,{...e,quantity:1}])};return c||B?(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"sticky top-0 z-10 bg-white shadow-md p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.E,{className:"h-6 w-6"}),(0,t.jsx)(h.E,{className:"h-6 w-32"})]}),(0,t.jsx)(h.E,{className:"h-10 w-10"})]})}),(0,t.jsx)("main",{className:"flex-1 container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,t.jsx)(h.E,{className:"h-12 w-full"}),(0,t.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(e=>(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(h.E,{className:"h-6 w-32"}),(0,t.jsx)(h.E,{className:"h-4 w-48"})]}),(0,t.jsx)(n.Wu,{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)(T,{},e))})]},e))})]})})]}):(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"sticky top-0 z-10 bg-white shadow-md p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-6 w-6"}),(0,t.jsx)("h1",{className:"text-xl font-bold",children:m?"Restaurant ".concat(m):"Loading..."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z,{}),(0,t.jsxs)(l.$,{variant:"outline",size:"icon",className:"relative",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Cart"}),w.length>0&&(0,t.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:w.length})]})]})]})}),(0,t.jsx)("main",{className:"flex-1 container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(o.p,{type:"search",placeholder:"Search menu...",value:b,onChange:e=>j(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(d.Tabs,{defaultValue:null===(a=H[0])||void 0===a?void 0:a.name,className:"w-full",children:[(0,t.jsx)(u,{className:"w-full",children:(0,t.jsx)(d.TabsList,{className:"w-full justify-start",children:H.map(e=>(0,t.jsx)(d.TabsTrigger,{value:e.name,children:e.name},e.name))})}),H.map(e=>(0,t.jsx)(I,{category:e,onAddToCart:S},e.name))]})]})})]})}},14085:(e,a,s)=>{"use strict";s.d(a,{$:()=>o,r:()=>d});var t=s(95155),r=s(12115),i=s(12317),l=s(31027),n=s(29602);let d=(0,l.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:s,variant:r,size:l,asChild:o=!1,...c}=e,A=o?i.DX:"button";return(0,t.jsx)(A,{className:(0,n.cn)(d({variant:r,size:l,className:s})),ref:a,...c})});o.displayName="Button"},35007:(e,a,s)=>{"use strict";s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>A});var t=s(95155),r=s(12115),i=s(29602);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});l.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let A=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});A.displayName="CardFooter"},9955:(e,a,s)=>{"use strict";s.d(a,{p:()=>l});var t=s(95155),r=s(12115),i=s(29602);let l=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});l.displayName="Input"},15785:(e,a,s)=>{"use strict";s.d(a,{Label:()=>o});var t=s(95155),r=s(12115),i=s(46195),l=s(31027),n=s(29602);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.b,{ref:a,className:(0,n.cn)(d(),s),...r})});o.displayName=i.b.displayName},25488:(e,a,s)=>{"use strict";s.d(a,{E:()=>i});var t=s(95155),r=s(29602);function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",a),...s})}},72581:(e,a,s)=>{"use strict";s.d(a,{d:()=>n});var t=s(95155),r=s(12115),i=s(12413),l=s(29602);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:a,children:(0,t.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},31641:(e,a,s)=>{"use strict";s.d(a,{Tabs:()=>n,TabsContent:()=>c,TabsList:()=>d,TabsTrigger:()=>o});var t=s(95155),r=s(12115),i=s(58629),l=s(29602);let n=i.bL,d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.B8,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=i.B8.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.l9,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=i.l9.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.UC,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=i.UC.displayName},18617:(e,a,s)=>{"use strict";s.d(a,{A:()=>c,O:()=>o});var t=s(95155),r=s(12115),i=s(63259),l=s(76046),n=s(30814);let d=(0,r.createContext)(void 0);function o(e){let{children:a}=e,[s,o]=(0,r.useState)(null),[c,A]=(0,r.useState)(!0),u=(0,l.useRouter)(),m=(0,i.U)();(0,r.useEffect)(()=>{let{data:{subscription:e}}=m.auth.onAuthStateChange((e,a)=>{var s;o(null!==(s=null==a?void 0:a.user)&&void 0!==s?s:null),A(!1),"SIGNED_IN"===e&&u.refresh(),"SIGNED_OUT"===e&&u.refresh()});return()=>{e.unsubscribe()}},[m,u]);let h=async(e,a)=>{try{let{error:s}=await m.auth.signInWithPassword({email:e,password:a});if(s)throw s;u.push("/dashboard"),n.oR.success("Welcome back!")}catch(e){n.oR.error(e.message)}},f=async(e,a)=>{try{let{error:s}=await m.auth.signUp({email:e,password:a});if(s)throw s;n.oR.success("Check your email to confirm your account")}catch(e){n.oR.error(e.message)}},x=async()=>{try{let{error:e}=await m.auth.signOut();if(e)throw e;u.push("/"),n.oR.success("Signed out successfully")}catch(e){n.oR.error(e.message)}},p=async e=>{try{let{error:a}=await m.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(a)throw a;n.oR.success("Check your email for the reset link")}catch(e){n.oR.error(e.message)}},g=async e=>{try{if(!s)throw Error("No user logged in");let{error:a}=await m.auth.updateUser({data:{dietary:e.dietary,favorites:e.favorites,dark_mode:e.dark_mode,language:e.language}});if(a)throw a;n.oR.success("Preferences updated successfully")}catch(e){n.oR.error(e.message)}};return(0,t.jsx)(d.Provider,{value:{user:s,loading:c,preferences:(null==s?void 0:s.user_metadata)||null,signIn:h,signUp:f,signOut:x,resetPassword:p,updatePreferences:g},children:a})}function c(){let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},63259:(e,a,s)=>{"use strict";s.d(a,{U:()=>r});var t=s(9806);function r(){return(0,t.createClientComponentClient)()}},29602:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(43463),r=s(69795);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[1181,5593,9806,9125,5934,506,5565,8253,8441,1517,7358],()=>a(94930)),_N_E=e.O()}]);